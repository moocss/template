<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script type="text/javascript" src="../mootools.js"></script>
<script type="text/javascript" src="../Source/Template.js"></script>
<style type="text/css">

.palmares {

	font-size: 90%;
	background: #ccc;
	padding: 5px 10px 5px 25px;
}
</style>
</head>
<body>
<script type="text/javascript">

	var template = '<div><h1>Team: {country}</h1>' +
							'{defined:players}Players list:<ul>{repeat:players}' + 
							'<li>Player #{number}: {name}, {position}{not-empty:substitute}. substitute{/not-empty:substitute}' +
							'{defined:palmares}<div class="palmares"><h2>Palmares of "{name}"</h2><ul>{repeat:palmares}<li>{.}</li>{/repeat:palmares}</ul></div>{/defined:palmares}</li>{/repeat:players}{/defined:players}</div>',
	data = [
				{country: 'Cameroon', players: [{position: 'goalkeeper', number: 1, name: 'The Wall', palmares: ['2008 - 2009: won the fanstastic cup', '2008 - 2009: won the premier league championship']},
				{position: 'attacker', number: 9, name: 'Speedy', palmares: ['2008 - 2009: won the fanstastic cup', '2008 - 2009: won the premier league championship']}, 
				{position: 'middfield', number: 25, name: 'Charly', palmares: ['2008 - 2009: won the super league championship'], substitute: true}]}, 
				{country: 'Argentina', players: [{position: 'middfield', number: 10, name: 'Diego'}, {position: 'attacker', number: 8, name: 'Samuel', substitute: true}, {position: 'goolkeeper', number: 1, name: 'Stone'}]}
			];
	
	document.body.adopt(new Template().html('{loop:}' + template + '{/loop:}', data)) // ->  Hi, my name is Emily. I have 3 lovely kids: <ul><li>Brian</li><li>Edith</li><li>Spider man</li></ul>
	
</script>
</body></html>